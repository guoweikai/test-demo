<!--
 * @Author: your name
 * @Date: 2022-05-23 14:17:33
 * @LastEditTime: 2022-05-23 14:55:06
 * @LastEditors: wkgdeMacBook-Pro.local
 * @Description: In User Settings Edit
 * @FilePath: /test-demo/demo16.html
-->

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <input type="file" id="file" />
    <script>
        const input = document.getElementById("file")
        input.onchange = function () {
            console.log(input.files[0], "files")
            const file = input.files[0];
            const fileName = file.name;
            const appId = "yozoRhYP75Bt1142";
            const sign = "B8FB862A64906BFAEBA605FF57F7FAF685104B612CC43775470BA32C4B46EF55%";
            const url = `http://dmc.yozocloud.cn/api/file/upload?appId=${appId}&sign=${sign}`;
            var formData = new FormData();
            formData.append("file", file);
            axios({
                method: "post",
                url,
                headers: {
                    'Content-Type': 'multipart/form-data',
                    'Content-Disposition': `form-data;name=file;filename=${fileName}`,
                },
                data: formData
            }).then(function (response) {
                console.log("文件上传成功", response);
            }).catch(function (error) {
                console.log("文件上传失败", error);
            });
        }

    </script>

</body>

</html>